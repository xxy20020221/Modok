## 聊天应用的WebSocket API文档

### 1. 群聊

#### 端点:
```
ws/chat/<team_id>/
```

#### 查询参数:
- `token`: 必需。用于验证用户的身份令牌。

#### 方法:

- **Connect**:
  - 描述: 连接到特定团队的群聊。
  - 成功响应:
    - 建立WebSocket连接。
  - 错误响应:
    - 如果身份验证失败，则关闭WebSocket连接。

- **Disconnect**:
  - 描述: 从群聊中断开连接。
  - 无需参数。

- **Receive**:
  - 描述: 从客户端接收消息并将其广播到群聊。
  - 参数:
    - `type`: 消息的类型 (TEXT, IMAGE, FILE)。
    - `content`: 消息的内容。这可以是文本或文件/图片的ID。
  - 响应:
    - 向群组中的所有用户广播消息。

### 2. 私聊

#### 端点:
```
ws/direct_chat/<receiver_user_id>/
```

#### 查询参数:
- `token`: 必需。用于验证用户的身份令牌。

#### 方法:

- **Connect**:
  - 描述: 与特定用户连接私聊。
  - 成功响应:
    - 建立WebSocket连接。
  - 错误响应:
    - 如果身份验证失败，则关闭WebSocket连接。

- **Disconnect**:
  - 描述: 从私聊中断开连接。
  - 无需参数。

- **Receive**:
  - 描述: 从客户端接收消息并将其发送给特定用户。
  - 参数:
    - `type`: 消息的类型 (TEXT, IMAGE, FILE)。
    - `content`: 消息的内容。这可以是文本或文件/图片的ID。
  - 响应:
    - 将消息发送给指定的用户。

### 注意:

1. 所有交互都是通过WebSocket进行的，因此标准的HTTP方法（GET、POST等）不适用。
2. 查询字符串中的令牌用于身份验证。确保提供有效的令牌以建立连接。
3. 对于群聊，URL中的team_id决定用户连接到哪个群聊。
4. 对于直接聊天，URL中的receiver_user_id决定用户与谁开始直接聊天。

